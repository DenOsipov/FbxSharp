fixture AnimCurveTest
test AnimCurveDef_Defaults
    require
    AssertEqual(1/3.0f, AnimCurveDef.sDEFAULT_WEIGHT)
    AssertEqual(0.000099999997f, AnimCurveDef.sMIN_WEIGHT)
    AssertEqual(0.99f, AnimCurveDef.sMAX_WEIGHT)
    AssertEqual(0.0f, AnimCurveDef.sDEFAULT_VELOCITY)

test AnimCurve_Create_AllZero
    given
    AnimCurve ac = new("")
    FbxTime* time
    double value

    when
    time = new FbxTime(0)
    value = ac.Evaluate(*time)

    then
    AssertEqual(0.0, value)

    when
    time = new FbxTime(100)
    value = ac.Evaluate(*time)

    then
    AssertEqual(0.0, value)

    when
    time = new FbxTime(-100)
    value = ac.Evaluate(*time)

    then
    AssertEqual(0.0, value)

    when
    time = new FbxTime(10000000L)
    value = ac.Evaluate(*time)

    then
    AssertEqual(0.0, value)

test AnimCurve_SingleKey_AllResultsSame
    given
    AnimCurve ac = new("")
    FbxTime* time
    time = new FbxTime(100)
    AnimCurveKey! key = new(*time, 1.5f)
    ac.KeyAdd(*time, key)
    double value

    when
    time = new FbxTime(0)
    value = ac.Evaluate(*time)

    then
    AssertEqual(1.5, value)

    when
    time = new FbxTime(100)
    value = ac.Evaluate(*time)

    then
    AssertEqual(1.5, value)

    when
    time = new FbxTime(200)
    value = ac.Evaluate(*time)

    then
    AssertEqual(1.5, value)