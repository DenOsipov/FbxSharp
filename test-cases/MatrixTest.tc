fixture MatrixTest
test Matrix_TrsConstructorNoTransforms_CreatesIdentity
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(0, 0, 0)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(1.0, m&.Get(0, 0))
    AssertEqual(0.0, m&.Get(0, 1))
    AssertEqual(0.0, m&.Get(0, 2))
    AssertEqual(0.0, m&.Get(0, 3))
    AssertEqual(0.0, m&.Get(1, 0))
    AssertEqual(1.0, m&.Get(1, 1))
    AssertEqual(0.0, m&.Get(1, 2))
    AssertEqual(0.0, m&.Get(1, 3))
    AssertEqual(0.0, m&.Get(2, 0))
    AssertEqual(0.0, m&.Get(2, 1))
    AssertEqual(1.0, m&.Get(2, 2))
    AssertEqual(0.0, m&.Get(2, 3))
    AssertEqual(0.0, m&.Get(3, 0))
    AssertEqual(0.0, m&.Get(3, 1))
    AssertEqual(0.0, m&.Get(3, 2))
    AssertEqual(1.0, m&.Get(3, 3))

test Matrix_TrsConstructorTranslation_CreatesWithTranslation
    when
    Vector4! t = Vector4(2, 3, 4)
    Vector4! r = Vector4(0, 0, 0)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(1.0, m&.Get(0, 0), 0.00001)
    AssertEqual(0.0, m&.Get(0, 1), 0.00001)
    AssertEqual(0.0, m&.Get(0, 2), 0.00001)
    AssertEqual(0.0, m&.Get(0, 3), 0.00001)
    AssertEqual(0.0, m&.Get(1, 0), 0.00001)
    AssertEqual(1.0, m&.Get(1, 1), 0.00001)
    AssertEqual(0.0, m&.Get(1, 2), 0.00001)
    AssertEqual(0.0, m&.Get(1, 3), 0.00001)
    AssertEqual(0.0, m&.Get(2, 0), 0.00001)
    AssertEqual(0.0, m&.Get(2, 1), 0.00001)
    AssertEqual(1.0, m&.Get(2, 2), 0.00001)
    AssertEqual(0.0, m&.Get(2, 3), 0.00001)
    AssertEqual(2.0, m&.Get(3, 0), 0.00001)
    AssertEqual(3.0, m&.Get(3, 1), 0.00001)
    AssertEqual(4.0, m&.Get(3, 2), 0.00001)
    AssertEqual(1.0, m&.Get(3, 3), 0.00001)

test Matrix_TrsConstructorRotationX_CreatesWithRotationX
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(22.5, 0, 0)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(1.0,       m&.Get(0, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 0), 0.00001)
    AssertEqual(0.92388,   m&.Get(1, 1), 0.00001)
    AssertEqual(0.382683,  m&.Get(1, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 0), 0.00001)
    AssertEqual(-0.382683, m&.Get(2, 1), 0.00001)
    AssertEqual(0.92388,   m&.Get(2, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 2), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 3), 0.00001)

test Matrix_TrsConstructorRotationY_CreatesWithRotationY
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(0, 35, 0)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(0.819152,  m&.Get(0, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 1), 0.00001)
    AssertEqual(-0.573576, m&.Get(0, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 0), 0.00001)
    AssertEqual(1.0,       m&.Get(1, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 3), 0.00001)
    AssertEqual(0.573576,  m&.Get(2, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 1), 0.00001)
    AssertEqual(0.819152,  m&.Get(2, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 2), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 3), 0.00001)

test Matrix_TrsConstructorRotationZ_CreatesWithRotationZ
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(0, 0, 55)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(0.573576,  m&.Get(0, 0), 0.00001)
    AssertEqual(0.819152,  m&.Get(0, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 3), 0.00001)
    AssertEqual(-0.819152, m&.Get(1, 0), 0.00001)
    AssertEqual(0.573576,  m&.Get(1, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 1), 0.00001)
    AssertEqual(1.0,       m&.Get(2, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 2), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 3), 0.00001)

test Matrix_TrsConstructorRotationXY_CreatesWithRotationXY
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(22.5, 35, 0)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(0.819152,  m&.Get(0, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 1), 0.00001)
    AssertEqual(-0.573576, m&.Get(0, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 3), 0.00001)
    AssertEqual(0.219498,  m&.Get(1, 0), 0.00001)
    AssertEqual(0.92388,   m&.Get(1, 1), 0.00001)
    AssertEqual(0.313476,  m&.Get(1, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 3), 0.00001)
    AssertEqual(0.529916,  m&.Get(2, 0), 0.00001)
    AssertEqual(-0.382683, m&.Get(2, 1), 0.00001)
    AssertEqual(0.756798,  m&.Get(2, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 2), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 3), 0.00001)

test Matrix_TrsConstructorRotationYZ_CreatesWithRotationYZ
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(0, 35, 55)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(0.469846,  m&.Get(0, 0), 0.00001)
    AssertEqual(0.67101,   m&.Get(0, 1), 0.00001)
    AssertEqual(-0.573576, m&.Get(0, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 3), 0.00001)
    AssertEqual(-0.819152, m&.Get(1, 0), 0.00001)
    AssertEqual(0.573576,  m&.Get(1, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 3), 0.00001)
    AssertEqual(0.32899,   m&.Get(2, 0), 0.00001)
    AssertEqual(0.469846,  m&.Get(2, 1), 0.00001)
    AssertEqual(0.819152,  m&.Get(2, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 2), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 3), 0.00001)

test Matrix_TrsConstructorRotationXZ_CreatesWithRotationXZ
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(22.5, 0, 55)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(0.573576,  m&.Get(0, 0), 0.00001)
    AssertEqual(0.819152,  m&.Get(0, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 3), 0.00001)
    AssertEqual(-0.756798, m&.Get(1, 0), 0.00001)
    AssertEqual(0.529916,  m&.Get(1, 1), 0.00001)
    AssertEqual(0.382683,  m&.Get(1, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 3), 0.00001)
    AssertEqual(0.313476,  m&.Get(2, 0), 0.00001)
    AssertEqual(-0.219498, m&.Get(2, 1), 0.00001)
    AssertEqual(0.92388,   m&.Get(2, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 2), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 3), 0.00001)

test Matrix_TrsConstructorRotationXYZ_CreatesWithRotationXYZ
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(22.5, 35, 55)
    Vector4! s = Vector4(1, 1, 1)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(0.469846,  m&.Get(0, 0), 0.00001)
    AssertEqual(0.67101,   m&.Get(0, 1), 0.00001)
    AssertEqual(-0.573576, m&.Get(0, 2), 0.00001)
    AssertEqual(0,         m&.Get(0, 3), 0.00001)
    AssertEqual(-0.630899, m&.Get(1, 0), 0.00001)
    AssertEqual(0.709718,  m&.Get(1, 1), 0.00001)
    AssertEqual(0.313476,  m&.Get(1, 2), 0.00001)
    AssertEqual(0,         m&.Get(1, 3), 0.00001)
    AssertEqual(0.617423,  m&.Get(2, 0), 0.00001)
    AssertEqual(0.214583,  m&.Get(2, 1), 0.00001)
    AssertEqual(0.756798,  m&.Get(2, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 3), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 2), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 3), 0.00001)
    
test Matrix_TrsConstructorScale_CreatesWithScale
    when
    Vector4! t = Vector4(0, 0, 0)
    Vector4! r = Vector4(0, 0, 0)
    Vector4! s = Vector4(2, 3, 4)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(2.0, m&.Get(0, 0), 0.00001)
    AssertEqual(0.0, m&.Get(0, 1), 0.00001)
    AssertEqual(0.0, m&.Get(0, 2), 0.00001)
    AssertEqual(0.0, m&.Get(0, 3), 0.00001)
    AssertEqual(0.0, m&.Get(1, 0), 0.00001)
    AssertEqual(3.0, m&.Get(1, 1), 0.00001)
    AssertEqual(0.0, m&.Get(1, 2), 0.00001)
    AssertEqual(0.0, m&.Get(1, 3), 0.00001)
    AssertEqual(0.0, m&.Get(2, 0), 0.00001)
    AssertEqual(0.0, m&.Get(2, 1), 0.00001)
    AssertEqual(4.0, m&.Get(2, 2), 0.00001)
    AssertEqual(0.0, m&.Get(2, 3), 0.00001)
    AssertEqual(0.0, m&.Get(3, 0), 0.00001)
    AssertEqual(0.0, m&.Get(3, 1), 0.00001)
    AssertEqual(0.0, m&.Get(3, 2), 0.00001)
    AssertEqual(1.0, m&.Get(3, 3), 0.00001)

test Matrix_TrsConstructorEverything_CreatesMatrix
    when
    Vector4! t = Vector4(1, 0, 0)
    Vector4! r = Vector4(22.5, 45, 135)
    Vector4! s = Vector4(1, 2, 3)
    Matrix! m = new(t, r, s)

    then
    AssertEqual(-0.5,      m&.Get(0, 0), 0.00001)
    AssertEqual(0.5,       m&.Get(0, 1), 0.00001)
    AssertEqual(-0.707107, m&.Get(0, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(0, 3), 0.00001)
    AssertEqual(-1.68925,  m&.Get(1, 0), 0.00001)
    AssertEqual(-0.92388,  m&.Get(1, 1), 0.00001)
    AssertEqual(0.541196,  m&.Get(1, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(1, 3), 0.00001)
    AssertEqual(-0.574025, m&.Get(2, 0), 0.00001)
    AssertEqual(2.19761,   m&.Get(2, 1), 0.00001)
    AssertEqual(1.95984,   m&.Get(2, 2), 0.00001)
    AssertEqual(0.0,       m&.Get(2, 3), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 0), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 1), 0.00001)
    AssertEqual(0.0,       m&.Get(3, 2), 0.00001)
    AssertEqual(1.0,       m&.Get(3, 3), 0.00001)

test Matrix_Multiply
    given
    Matrix! a = new(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 2, 3, 4, 1)
    Matrix! b = new(0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1)

    when
    Matrix! m = a * b

    then
    AssertEqual(0.0f, m&.Get(0, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 1), 0.000001f)
    AssertEqual(1.0f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 3), 0.000001f)
    AssertEqual(1.0f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 3), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 0), 0.000001f)
    AssertEqual(1.0f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 3), 0.000001f)
    AssertEqual(2.0f, m&.Get(3, 0), 0.000001f)
    AssertEqual(3.0f, m&.Get(3, 1), 0.000001f)
    AssertEqual(4.0f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.0f, m&.Get(3, 3), 0.000001f)

    when
    m = b * a

    then
    AssertEqual(0.0f, m&.Get(0, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 1), 0.000001f)
    AssertEqual(1.0f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 3), 0.000001f)
    AssertEqual(1.0f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 3), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 0), 0.000001f)
    AssertEqual(1.0f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 3), 0.000001f)
    AssertEqual(3.0f, m&.Get(3, 0), 0.000001f)
    AssertEqual(4.0f, m&.Get(3, 1), 0.000001f)
    AssertEqual(2.0f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.0f, m&.Get(3, 3), 0.000001f)

test Matrix_Multiply_2
    given
    Matrix! a = new(1, 0, -0, 0, 0, 0.707107, 0.707107, 0, 0, -0.707107, 0.707107, 0, 0, 0, 0, 1); // 45 degrees around x
    Matrix! b = new(1, 0, -0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 2, 3, 4, 1)

    when
    Matrix! m = a * b

    then
    AssertEqual(1.000000f, m&.Get(0, 0), 0.000001f)
    AssertEqual(0.000000f, m&.Get(0, 1), 0.000001f)
    AssertEqual(0.000000f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.000000f, m&.Get(0, 3), 0.000001f)
    AssertEqual(0.000000f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.707107f, m&.Get(1, 1), 0.000001f)
    AssertEqual(0.707107f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.000000f, m&.Get(1, 3), 0.000001f)
    AssertEqual(0.000000f, m&.Get(2, 0), 0.000001f)
    AssertEqual(-.707107f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.707107f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.000000f, m&.Get(2, 3), 0.000001f)
    AssertEqual(2.000000f, m&.Get(3, 0), 0.000001f)
    AssertEqual(-.707107f, m&.Get(3, 1), 0.000001f)
    AssertEqual(4.949748f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.000000f, m&.Get(3, 3), 0.000001f)

    when
    m = b * a

    then
    AssertEqual(1.000000f, m&.Get(0, 0), 0.000001f)
    AssertEqual(0.000000f, m&.Get(0, 1), 0.000001f)
    AssertEqual(0.000000f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.000000f, m&.Get(0, 3), 0.000001f)
    AssertEqual(0.000000f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.707107f, m&.Get(1, 1), 0.000001f)
    AssertEqual(0.707107f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.000000f, m&.Get(1, 3), 0.000001f)
    AssertEqual(0.000000f, m&.Get(2, 0), 0.000001f)
    AssertEqual(-.707107f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.707107f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.000000f, m&.Get(2, 3), 0.000001f)
    AssertEqual(2.000000f, m&.Get(3, 0), 0.000001f)
    AssertEqual(3.000000f, m&.Get(3, 1), 0.000001f)
    AssertEqual(4.000000f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.000000f, m&.Get(3, 3), 0.000001f)

test Matrix_Multiply_3
    given
    Matrix! r = new(0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1); // 120 degrees around axis (1,1,1)
    Matrix! t = new(1, 0, -0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 2, 3, 4, 1)
    Matrix! s = new(5, 0, 0, 0, 0, 6, 0, 0, 0, 0, 7, 0, 0, 0, 0, 1)

    when
    Matrix! m = r * t * s

    then
    AssertEqual(0.0f, m&.Get(0, 0), 0.000001f)
    AssertEqual(5.0f, m&.Get(0, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 3), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 1), 0.000001f)
    AssertEqual(6.0f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 3), 0.000001f)
    AssertEqual(7.0f, m&.Get(2, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 3), 0.000001f)
    AssertEqual(4.0f, m&.Get(3, 0), 0.000001f)
    AssertEqual(2.0f, m&.Get(3, 1), 0.000001f)
    AssertEqual(3.0f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.0f, m&.Get(3, 3), 0.000001f)

    when
    m = r * s * t

    then
    AssertEqual(0.0f, m&.Get(0, 0), 0.000001f)
    AssertEqual(5.0f, m&.Get(0, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 3), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 1), 0.000001f)
    AssertEqual(6.0f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 3), 0.000001f)
    AssertEqual(7.0f, m&.Get(2, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 3), 0.000001f)
    AssertEqual(28.0f, m&.Get(3, 0), 0.000001f)
    AssertEqual(10.0f, m&.Get(3, 1), 0.000001f)
    AssertEqual(18.0f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.0f, m&.Get(3, 3), 0.000001f)

    when
    m = t * r * s

    then
    AssertEqual(0.0f, m&.Get(0, 0), 0.000001f)
    AssertEqual(5.0f, m&.Get(0, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 3), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 1), 0.000001f)
    AssertEqual(6.0f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 3), 0.000001f)
    AssertEqual(7.0f, m&.Get(2, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 3), 0.000001f)
    AssertEqual(2.0f, m&.Get(3, 0), 0.000001f)
    AssertEqual(3.0f, m&.Get(3, 1), 0.000001f)
    AssertEqual(4.0f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.0f, m&.Get(3, 3), 0.000001f)

    when
    m = t * s * r

    then
    AssertEqual(0.0f, m&.Get(0, 0), 0.000001f)
    AssertEqual(6.0f, m&.Get(0, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 3), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 1), 0.000001f)
    AssertEqual(7.0f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 3), 0.000001f)
    AssertEqual(5.0f, m&.Get(2, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 3), 0.000001f)
    AssertEqual(2.0f, m&.Get(3, 0), 0.000001f)
    AssertEqual(3.0f, m&.Get(3, 1), 0.000001f)
    AssertEqual(4.0f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.0f, m&.Get(3, 3), 0.000001f)

    when
    m = s * t * r

    then
    AssertEqual(0.0f, m&.Get(0, 0), 0.000001f)
    AssertEqual(6.0f, m&.Get(0, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 3), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 1), 0.000001f)
    AssertEqual(7.0f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 3), 0.000001f)
    AssertEqual(5.0f, m&.Get(2, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 3), 0.000001f)
    AssertEqual(10.0f, m&.Get(3, 0), 0.000001f)
    AssertEqual(18.0f, m&.Get(3, 1), 0.000001f)
    AssertEqual(28.0f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.0f, m&.Get(3, 3), 0.000001f)

    when
    m = s * r * t

    then
    AssertEqual(0.0f, m&.Get(0, 0), 0.000001f)
    AssertEqual(6.0f, m&.Get(0, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(0, 3), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 1), 0.000001f)
    AssertEqual(7.0f, m&.Get(1, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(1, 3), 0.000001f)
    AssertEqual(5.0f, m&.Get(2, 0), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 1), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 2), 0.000001f)
    AssertEqual(0.0f, m&.Get(2, 3), 0.000001f)
    AssertEqual(20.0f, m&.Get(3, 0), 0.000001f)
    AssertEqual(12.0f, m&.Get(3, 1), 0.000001f)
    AssertEqual(21.0f, m&.Get(3, 2), 0.000001f)
    AssertEqual(1.0f, m&.Get(3, 3), 0.000001f)